task_name: "mnn_llm_t1_param_sweep"
description: "t=1 时，在固定 p=128, n=64 下，分别评估 dynamicOption/mmap/precision/kv_cache 对性能的影响"
output_dir: "results/mnn_llm_t1_param_sweep"
taskset: "taskset -c 1"

global_config:
  timeout: 600        # 单条用例最大 600s，可按需调整
  repeat: 3           # -rep，重复次数
  models: ["qwen3_06b","hunyuan_05b"]  # 改成你在 models.toml 里配置的模型名

benchmark_suits:
  # 1) -c 0 -kv false -mmp 0 时，扫描 dyo=0..8
  - suit_name: "dynamic_option_effect_t1"
    description: "t=1, p=128, n=64, c=0, kv=false, mmap=0 时，dynamicOption 0-8 对性能的影响"
    variables:
      - name: "dynamicOption"
        values: [0, 1, 2, 3, 4, 5, 6, 7, 8]
    fixed_params:
      threads: 1
      precision: 0
      kv_cache: "false"
      mmap: "0"
      n_prompt: 512 
      n_gen: 128

  # 2) -c 0 -dyo 0 -kv false 时，扫描 mmp=0,1
  - suit_name: "mmap_effect_t1"
    description: "t=1, p=128, n=64, c=0, dyo=0, kv=false 时，mmap 0/1 对性能的影响"
    variables:
      - name: "mmap"
        values: ["0", "1"]
    fixed_params:
      threads: 1
      precision: 0
      dynamicOption: 0
      kv_cache: "false"
      n_prompt: 512
      n_gen: 128

  # 3) -dyo 0 -kv false -mmp 0 时，扫描 c=0,1,2
  - suit_name: "precision_effect_t1"
    description: "t=1, p=128, n=64, dyo=0, kv=false, mmap=0 时，precision 0/1/2 对性能的影响"
    variables:
      - name: "precision"
        values: [0, 1, 2]
    fixed_params:
      threads: 1
      dynamicOption: 0
      kv_cache: "false"
      mmap: "0"
      n_prompt: 512
      n_gen: 128
